window.FlashCanvasOptions={swfPath:"http://g.tbcdn.cn/thx/canvax/1.0.0/canvax/library/flashCanvas/"},define("canvax/core/Base",[document.createElement("canvas").getContext?"":"canvax/library/flashCanvas/flashcanvas","canvax/animation/AnimationFrame",window._?"":"canvax/library/underscore"],function(a){var b=function(a,b){return document[a]?function(b,c,d){if(b.length)for(var e=0;e<b.length;e++)arguments.callee(b[e],c,d);else b[a](c,d,!1)}:function(a,c,d){if(a.length)for(var e=0;e<a.length;e++)arguments.callee(a[e],c,d);else a[b]("on"+c,function(){return d.call(a,window.event)})}},c={mainFrameRate:60,now:0,getEl:function(a){return _.isString(a)?document.getElementById(a):1==a.nodeType?a:a.length?a[0]:null},getOffset:function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,h=1;if(d.getBoundingClientRect){var i=d.getBoundingClientRect();h=(i.right-i.left)/d.clientWidth}h>1&&(f=0,g=0);var j=b.top/h+(window.pageYOffset||e&&e.scrollTop/h||d.scrollTop/h)-f,k=b.left/h+(window.pageXOffset||e&&e.scrollLeft/h||d.scrollLeft/h)-g;return{top:j,left:k}},addEvent:b("addEventListener","attachEvent"),removeEvent:b("removeEventListener","detachEvent"),_pixelCtx:null,__emptyFunc:function(){},_devicePixelRatio:window.devicePixelRatio||1,_createCanvas:function(a,b,c){var d=document.createElement("canvas");return d.style.position="absolute",d.style.width=b+"px",d.style.height=c+"px",d.style.left=0,d.style.top=0,d.setAttribute("width",b*this._devicePixelRatio),d.setAttribute("height",c*this._devicePixelRatio),d.setAttribute("id",a),d},canvasSupport:function(){return!!document.createElement("canvas").getContext},createObject:function(a,b){var d,e=Object.create;return e?d=e(a):(c.__emptyFunc.prototype=a,d=new c.__emptyFunc),d.constructor=b,d},setContextStyle:function(a,b){for(p in b)"textBaseline"!=p&&p in a&&(b[p]||_.isNumber(b[p]))&&("globalAlpha"==p?a[p]*=b[p]:a[p]=b[p])},creatClass:function(a,b,d){if(!b||!a)return a;var e,f=b.prototype;return e=c.createObject(f,a),a.prototype=_.extend(e,a.prototype),a.superclass=c.createObject(f,b),d&&_.extend(e,d),a},initElement:function(b){a&&a.initElement&&a.initElement(b)},checkOpt:function(a){return a?a&&!a.context?(a.context={},a):a:{context:{}}},_UID:0,getUID:function(){return this._UID++},createId:function(a){var b=a.charCodeAt(a.length-1);return b>=48&&57>=b&&(a+="_"),a+c.getUID()},copy:function(a,b,c){if(_.isEmpty(b))return a;for(var d in b)(!c||a.hasOwnProperty(d)||void 0!==a[d])&&(a[d]=b[d]);return a},getCssOrderArr:function(a){var b,c,d,e;return"number"==typeof a?b=c=d=e=a:a instanceof Array?1===a.length?b=c=d=e=a[0]:2===a.length?(b=d=a[0],c=e=a[1]):3===a.length?(b=a[0],c=e=a[1],d=a[2]):(b=a[0],c=a[1],d=a[2],e=a[3]):b=c=d=e=0,[b,c,d,e]},setDeepExtend:function(){(function(){var a,b,c,d,e,f,g=[].slice;c=function(a){var b,d;return!_.isObject(a)||_.isFunction(a)?a:_.isDate(a)?new Date(a.getTime()):_.isRegExp(a)?new RegExp(a.source,a.toString().replace(/.*\//,"")):(d=_.isArray(a||_.isArguments(a)),b=function(a,b,e){return d?a.push(c(b)):a[e]=c(b),a},_.reduce(a,b,d?[]:{}))},f=function(a){return!(null!=a&&void 0!=a&&a.prototype!=={}.prototype&&a.prototype!==Object.prototype||!_.isObject(a)||_.isArray(a)||_.isFunction(a)||_.isDate(a)||_.isRegExp(a)||_.isArguments(a))},b=function(a){return _.filter(_.keys(a),function(b){return f(a[b])})},a=function(a){return _.filter(_.keys(a),function(b){return _.isArray(a[b])})},e=function(c,d,f){if(!d)return c;var g,h,i,j,k,l,m,n,o,p;if(null==f&&(f=20),0>=f)return _.extend(c,d);for(l=_.intersection(b(c),b(d)),h=function(a){return d[a]=e(c[a],d[a],f-1)},m=0,o=l.length;o>m;m++)k=l[m],h(k);for(j=_.intersection(a(c),a(d)),g=function(a){return d[a]},n=0,p=j.length;p>n;n++)i=j[n],g(i);return _.extend(c,d)},d=function(){var a,b,d,f;if(d=2<=arguments.length?g.call(arguments,0,f=arguments.length-1):(f=0,[]),b=arguments[f++],_.isNumber(b)||(d.push(b),b=20),d.length<=1)return d[0];if(0>=b)return _.extend.apply(this,d);for(a=d.shift();d.length>0;)a=e(a,c(d.shift()),b);return a},_.mixin({deepClone:c,isBasicObject:f,basicObjects:b,arrays:a,deepExtend:d})}).call(window)}};return c.setDeepExtend(),c});