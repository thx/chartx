define("chartx/chart/original/thermometer/graphs",["canvax/index","canvax/shape/Rect","canvax/display/Text","canvax/animation/Tween","chartx/utils/tools"],function(a,b,c,d,e){var f=function(a,b){this.domRoot=b,this.w=0,this.h=0,this.org=[],this.data=[],this.turn=[],this.fillStyle=["#0098d8","#ff633d","#7867b4","#f4c646"],this.back={fillStyle:["#f3f3f5","#f3f3f5","#f3f3f5","#f3f3f5","#f3f3f5"]},this.textData=[],this.text={enabled:!0,format:null,x:0,y:0,content:"",fillStyle:"",fontSize:15,textAlign:"center"},this.icon={enabled:!0,content:function(){}},this.disX=0,this.disY=0,this.items=0,this.itemDis=0,this.itemW=0,this.itemMaxW=50,this.itemTotal=20,this.sDisXAndItemW=1,this.sDisYAndSingleH=.5,this.sprite=null,_.deepExtend(this,a),this.init()};return f.prototype={init:function(b){_.deepExtend(this,b),this.sprite=new a.Display.Sprite({id:"graphsEl"})},setX:function(a){this.sprite.context.x=a},setY:function(a){this.sprite.context.y=a},draw:function(b){var c=this;if(_.deepExtend(c,b),c.org=c.data,c.data.length>0&&_.isArray(c.data[0]));else{var d=c._counts();c.disX=d.disX,c.disY=d.disY,c.data=d.data,c.turn=d.turn}c.sprite.context.x=c.pos.x+parseInt(c.disX/2),c.sprite.context.y=c.pos.y+parseInt(c.disY/2),_.each(c.data,function(b,d){var e=new a.Display.Sprite({id:"item_"+d});c.sprite.addChild(e);var f=c._getText(d);c._add({domRoot:c.domRoot,data:b,index:d,sprite:e,text:f,icon:c._getIcon(d),pos:{x:(c.itemW+c.itemDis)*d,y:0}})}),c._grow()},_counts:function(){var a=this,b=[],c=[];a.items=a.data.length,a.itemW=parseInt(a.w/(a.items+(a.items-1)*a.sDisXAndItemW)),a.itemW=Math.min(a.itemW,a.itemMaxW),a.itemDis=parseInt((a.w-a.itemW*a.items)/(a.items-1)),isNaN(a.itemDis)&&(a.itemDis=0);var d=0,e=this.w-(a.itemDis*(a.items-1)+a.items*a.itemW);return _.each(a.data,function(e,f){var g=a._count({index:f,w:a.itemW,h:a.h,scale:a.data[f],itemTotal:a.itemTotal});d=g.disY,b.push(g.data),c.push(g.turn)}),{data:b,disX:e,disY:d,turn:c}},_count:function(a){for(var b=a.index,c=a.w,d=a.h,e=a.scale,f=a.itemTotal,g=Math.ceil(e/(100/f)),h=parseInt(d/f*this.sDisYAndSingleH),i=parseInt((d-h*f)/(f-1)),j=d-(h*f+i*(f-1)),k=[],l=0,m=!1,n=0,o=f;n<o;n++){var p=this.back.fillStyle[b];n>=f-g&&(p=this.fillStyle[b],m||(m=!0,l=n*(h+i)));var q={x:0,y:n*(h+i),width:c,height:h,fillStyle:p,backStyle:this.back.fillStyle[b]};k.push(q)}return{data:k,disY:j,turn:{initY:l}}},_getText:function(a){var b=this,c=a,d=b.textData[a];return _.isObject(d)?d:(d=_.clone(this.text),d.x=parseInt(b.itemW/2),d.y=b.turn[c].initY,d.content=b.org[c],d.fillStyle=b.fillStyle[c],d)},_getIcon:function(a){var b=this,c=a,d=_.clone(b.icon);return d.right=b.w-parseInt(b.disX/2)-(b.itemW+b.itemDis)*a+3,d.fillStyle=b.fillStyle[c],d.content=b.icon.content({value:b.org[c],fillStyle:d.fillStyle,index:c}),d},_grow:function(){var a=0;_.each(this.sprite.children,function(b,c){var d=b.children.length-1,e=0;_.each(b.children,function(a){a.active&&e++});var f=null,g=0;setTimeout(function(){f=setInterval(function(){if(g++,g>e)return void clearInterval(f);var a=Math.round(d-g),c=b.getChildAt(a);c.context.fillStyle=c.fillStyle},30)},30*a),a+=e})},_add:function(a){var d=a.data,e=a.index,f=a.sprite,g=a.text,h=a.pos,i=a.icon,j=a.domRoot;if(_.each(d,function(a,c){var d=new b({id:c,context:{x:a.x||0,y:a.y||0,width:a.width||100,height:a.height||20,fillStyle:a.backStyle,radius:a.radius||[a.height/2,a.height/2]}});a.fillStyle!=a.backStyle&&(d.active=!0,d.fillStyle=a.fillStyle),f.addChild(d)}),g.enabled){var k=g.content;_.isFunction(g.format)?k=g.format({index:e,content:k}):k+="%";var l=new c(k,{context:{fillStyle:g.fillStyle,fontSize:g.fontSize,textAlign:g.textAlign}});l.context.x=g.x,l.context.y=parseInt(g.y-l.getTextHeight()),f.addChild(l)}if(i.enabled){var m=document.createElement("div");m.style.cssText=";position:absolute;bottom:0;px;right:"+i.right+"px;",i.content&&(m.innerHTML=i.content),j.appendChild(m)}f.context.x=h.x,f.context.y=h.y}},f});